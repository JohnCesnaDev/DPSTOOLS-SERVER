import{Q as f,a as c}from"./QToolbar.0cffcff2.js";import{Q as p}from"./QCheckbox.7996cad8.js";import{Q as y}from"./QBtn.ef11c7ff.js";import{Q as g}from"./QCard.a0fbab90.js";import{Q as _}from"./QInnerLoading.b9d92685.js";import{Q as w}from"./QTable.7fc3b59a.js";import{Q as x}from"./QPage.a05ad145.js";import{api as C}from"./axios.59f1d47a.js";import{r as s,o as A,c as Q,w as r,i as n,e as a,h as b}from"./index.04f822d4.js";import"./render.60518e77.js";import"./use-dark.4b255dd9.js";import"./private.use-form.9eb4be4a.js";import"./QItem.30b85af3.js";import"./selection.4b3f7d38.js";import"./format.de7e9769.js";const q={class:"row items-start q-gutter-md"},F=b(" Commande "),B={style:{margin:"15px"}},D={class:"col column q-gutter-md"},S=b("Article"),V={style:{margin:"15px"}},K={setup(T){const u=s([]),i=s(),o=s(),d=s(!1),h=[{name:"fournisseur",required:!0,align:"left",label:"Fournisseur",headerStyle:"width: 90px",field:e=>e.COFOU},{name:"cobc",required:!0,align:"left",label:"Commande",headerStyle:"width: 90px",field:"COBC"},{name:"naf",required:!0,align:"left",label:"Affaire",headerStyle:"width: 70px",field:"NAF"},{name:"client",required:!0,align:"left",label:"Client",headerStyle:"width: 70px",field:"COCLI"},{name:"date",required:!0,align:"left",label:"Date",headerStyle:"width: 70px",field:"DATE",format:(e,l)=>`${e.substring(6,8)}/${e.substring(4,6)}/${e.substring(0,4)}`},{name:"delai",required:!0,align:"left",label:"Delai",headerStyle:"width: 70px",field:"DELAI",format:(e,l)=>`${e.substring(6,8)}/${e.substring(4,6)}/${e.substring(0,4)}`},{name:"article",required:!0,align:"left",label:"Arcticle",field:"ART"},{name:"desa1",required:!0,align:"left",label:"Descriptif 1",field:"DESA1"},{name:"desa2",required:!0,align:"left",label:"Descriptif 2",field:"DESA2"},{name:"desa3",required:!0,align:"left",label:"Descriptif 3",field:"DESA3"},{name:"quantite",required:!0,align:"left",label:"Quantit\xE9",headerStyle:"width: 90px",field:"QTE"}];function m(e){e=="BC"?o.value="":e=="AFF"&&(i.value="")}function v(){if(o.value||i.value){d.value=!0;const e=i.value,l=o.value;C.get("/BC",{params:{BC:e,AFF:l}}).then(function(t){u.value=t.data,d.value=!1}).catch(function(t){alert(t)}).then(function(){})}}return(e,l)=>(A(),Q(x,{class:"flex flex-center"},{default:r(()=>[n("div",q,[a(g,{class:"shadow-10 q-card--bordered",style:{height:"800px"}},{default:r(()=>[a(f,null,{default:r(()=>[a(c,null,{default:r(()=>[F]),_:1})]),_:1}),n("div",B,[n("div",D,[a(p,{outlined:"",type:"number",label:"Commande","stack-label":"",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=t=>i.value=t),onFocus:l[1]||(l[1]=t=>m("BC"))},null,8,["modelValue"]),a(p,{outlined:"",type:"number",label:"Affaire","stack-label":"",modelValue:o.value,"onUpdate:modelValue":l[2]||(l[2]=t=>o.value=t),onFocus:l[3]||(l[3]=t=>m("AFF"))},null,8,["modelValue"]),a(y,{onClick:v,color:"primary",label:"Recherche"})])])]),_:1}),a(g,{class:"shadow-10 q-card--bordered",style:{height:"800px","min-width":"1000px"}},{default:r(()=>[a(f,null,{default:r(()=>[a(c,null,{default:r(()=>[S]),_:1})]),_:1}),n("div",V,[a(w,{class:"my-sticky-header-table",style:{height:"715px"},flat:"",bordered:"",rows:u.value,columns:h,"row-key":"article",separator:"cell","rows-per-page-options":[0],"virtual-scroll":"",selected:e.selected,"onUpdate:selected":l[4]||(l[4]=t=>e.selected=t),loading:d.value},{loading:r(()=>[a(_,{showing:"",color:"primary"})]),_:1},8,["rows","selected","loading"])])]),_:1})])]),_:1}))}};export{K as default};
